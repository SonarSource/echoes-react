{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "github>SonarSource/renovate-config:default"
  ],
  "ignoreDeps": [
  ],
  "description": "Schedule once a month on the first weekend of the month at night (0-5 UTC).",
  "schedule": ["at any time"],
  "automerge": false,
  "reviewers": [
    "gregaubert",
    "david-cho-lerat-sonarsource",
    "jeremy-davis-sonarsource"
  ],
  "reviewersSampleSize": 1,
  "enabledManagers": [
    "npm",
    "github-actions"
  ],
  "dependencyDashboard": true,
  "separateMultipleMajor": true,
  "addLabels": [ "renovate-dependencies" ],
  "packageRules": [
    {
      "description": "Wait for 5 days after a release before updating",
      "matchUpdateTypes": [
        "patch",
        "minor",
        "major"
      ],
      "minimumReleaseAge": "5 days"
    },
    {
      "description": "Group all non-major dependencies in the same PR",
      "groupName": "all non-major dependencies",
      "groupSlug": "all-minor-patch",
      "prHeader": "Update all non-major Yarn dependencies",
      "matchPackageNames": ["*"],
      "matchUpdateTypes": ["patch", "minor"],
      "lockFileMaintenance": {
        "enabled": true
      }
    },
    {
      "description": "Move prettier updates to a dedicated PR",
      "groupName": "prettier dependency",
      "groupSlug": "prettier",
      "matchPackageNames": [
        "^prettier"
      ],
      "matchUpdateTypes": ["minor", "major"]
    },
    {
      "description": "All our peerDependencies major updates must be approved through the dependency dashboard first.",
      "matchDepTypes": ["peerDependencies"],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Following packages major updates must be approved through the dependency dashboard first.",
      "matchPackageNames": [
        "@types/node",
        "node",
        "yarn"
      ],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "We are stuck with the current version of Mantine until we completely rework the select component.",
      "matchPackageNames": [
        "@mantine/core",
        "@mantine/hooks"
      ],
      "matchUpdateTypes": ["patch", "minor", "major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Style Dictionary updates need migration work.",
      "matchPackageNames": [
        "@tokens-studio/sd-transforms",
        "style-dictionary"
      ],
      "matchUpdateTypes": ["patch", "minor", "major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Eslint major update need migration work.",
      "matchPackageNames": [
        "^eslint",
        "@types/eslint"
      ],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    }
  ],
  "vulnerabilityAlerts": {
    "enabled": true,
    "labels": [
      "vulnerability-alert"
    ]
  },
  "osvVulnerabilityAlerts": true,
  "ignorePaths": [
    "**/.yarn/**",
    "**/node_modules/**",
    "**/.nx/**"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update YARN_VERSION variables netlify.toml",
      "managerFilePatterns": [
        "^netlify\\.toml$",
        "Dockerfile"
      ],
      "matchStrings": ["YARN_VERSION\\s*=\\s*\"(?<currentValue>.*?)\""],
      "depNameTemplate": "yarn",
      "datasourceTemplate": "npm"
    }
  ]
}
